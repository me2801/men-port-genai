
# Email Drafting Agent

## Problem Statement

This project implements an Email Drafting Agent as part of the GenAI Hackathon Pre-Hackathon Mini Challenge #2.

The goal is to build an agent that transforms bullet-point-style input into a clear, professional email draft. The agent produces polished emails with a natural tone and respectful style.

### The agent accepts:
- Recipient’s name and/or role
- Purpose of the email
- Key details or points to include (bullet points)

### And returns a well-structured email containing:
- A subject line
- A natural and respectful greeting
- A concise body covering all key information
- A professional closing

The agent is designed to run on the GenAI AgentOS platform.

## Quickstart Guide

### 1. Clone the repository

```bash
git clone https://github.com/me2801/men-port-genai.git
cd challenges
cd men-port-genai
cd 02-email-drafting-agent
```

### 2. Configure environment variables

Create a `.env` file in the root of your project containing the following:

```
OPENAPI_KEY=<your OpenAI API key>
AGENT_JWT=<your GenAI AgentOS JWT token>
ROUTER_WS_URL=<optional WebSocket URL, leave blank to use local router>

# Test credentials - only for local testing
TEST_LOGIN_USERNAME=<your test username>
TEST_LOGIN_PASSWORD=<your test password>
```

- Get your OpenAI API key: https://platform.openai.com/account/api-keys
- Get your GenAI JWT token: see the GenAI AgentOS documentation.
- Leave `ROUTER_WS_URL` empty unless exposing your agent through ngrok.

### 3. Set up and activate the virtual environment using uv

If you don’t have `uv`, install it first:

```bash
pip install uv
```

Then create and activate the virtual environment:

```bash
uv venv
.venv/Scripts/activate  # On Windows
# or
source .venv/bin/activate  # On Mac/Linux
```

Sync the dependencies from `pyproject.toml`:

```bash
uv sync
```

### 4. Run the agent

Start the agent with:

```bash
uv run main.py
```

The agent will register with GenAI AgentOS and start processing incoming events.

## Test the WebSocket Endpoint (Local)

A test script `test.py` is provided to verify your local WebSocket endpoint and draft generation.

Make sure your backend is running (`uv run main.py`), then run the test with:

```bash
uv run test.py
```

The test script uses the following environment variables:
- `TEST_LOGIN_USERNAME`: Login username for the local API
- `TEST_LOGIN_PASSWORD`: Login password for the local API

The test performs:
1. Login to the local FastAPI backend to obtain a JWT token.
2. Connect to your local WebSocket (`ws://localhost:8000/frontend/ws`).
3. Send a draft request and print the response.

---

## Functionality

The core functionality of this agent is to generate professional email drafts from minimal user input.

### Inputs
- `recipient`: The recipient's name or role.
- `purpose`: The overall purpose of the email.
- `points`: A list of bullet points with the key information to include.

### Output
A professional email containing:
- A subject line
- A greeting addressing the recipient
- A concise, clear body covering the provided points
- A respectful closing

### Example

**Input:**
- Recipient: Hiring Manager
- Purpose: Application for Data Scientist position
- Points:
    - Completed Master’s in Data Science
    - 3 years of experience in machine learning
    - Passionate about innovative technologies

**Example Output:**

Subject: Application for Data Scientist Role

Dear Hiring Manager,

I hope this message finds you well.

I am writing to apply for the Data Scientist position. I hold a Master’s degree in Data Science and bring over three years of hands-on experience in machine learning. I am deeply passionate about leveraging innovative technologies to drive impactful solutions.

Thank you for considering my application. I look forward to the possibility of contributing to your team.

Best regards,  
[Your Name]

---

## Technical Stack

- Python 3.11+
- GenAI AgentOS
- OpenAI GPT-4o-mini
- python-dotenv for environment variable management

## Folder Structure

```
.
├── main.py              # Agent logic and registration
├── test.py              # Local test script for the WebSocket
├── .env                 # API keys and test credentials (excluded from git)
├── README.md            # This file
├── pyproject.toml       # Project dependencies
└── requirements.lock    # Locked dependency versions (generated by uv)
```

## Status

- Functional and tested on GenAI AgentOS
- Generates professional emails from bullet-point input
- Ready for submission to Mini Challenge #2